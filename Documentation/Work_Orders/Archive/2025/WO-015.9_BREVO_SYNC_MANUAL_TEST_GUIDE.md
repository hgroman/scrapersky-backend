# WO-015.9: Brevo Sync Service Manual Testing Guide

**Created:** 2025-01-18
**Purpose:** Test Brevo sync service (Step 1) manually before building scheduler
**Tester:** Local Claude (Windsurf IDE with MCP Supabase access)
**Estimated Time:** 45-60 minutes
**Prerequisites:** Phase 1 complete + WO-015.7 verified

---

## Executive Summary

This guide walks through manual testing of the Brevo sync service we just built in Phase 2 Step 1. Since we haven't built the scheduler yet, we'll test the core sync logic directly using a Python test script.

**What We're Testing:**
- ‚úÖ Core service can sync one contact to Brevo API
- ‚úÖ Status transitions work correctly (Queued ‚Üí Processing ‚Üí Complete)
- ‚úÖ Retry logic works (test error handling)
- ‚úÖ Contact appears in Brevo dashboard
- ‚úÖ Database fields updated correctly

**What We're NOT Testing Yet:**
- ‚ùå Background scheduler (Step 2 - not built yet)
- ‚ùå Batch processing (requires scheduler)
- ‚ùå Automatic retry scheduling (requires scheduler)

---

## Part 1: Brevo Account Setup (15 minutes)

### Step 1.1: Create Brevo Account (If Needed)

1. **Go to:** https://www.brevo.com/
2. **Click:** "Sign up for free"
3. **Fill out:** Email, password, company details
4. **Verify:** Check email and click verification link
5. **Complete:** Onboarding questionnaire (can skip most)

**Free Tier Limits:**
- 300 emails/day
- Unlimited contacts
- Full API access ‚úÖ

### Step 1.2: Get Brevo API Key

1. **Log in** to Brevo dashboard
2. **Navigate to:** Settings (gear icon, top right)
3. **Click:** "SMTP & API" in left sidebar
4. **Scroll to:** "API Keys" section
5. **Click:** "Generate a new API key"
6. **Name it:** "ScraperSky Testing" (or similar)
7. **Copy the key:** `xkeysib-...` (starts with `xkeysib-`)
8. **‚ö†Ô∏è Important:** Copy immediately - you can't see it again!

**Example API Key Format:**
```
xkeysib-1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t1u2v3w4x5y6z7a8b9c0d1e2f3g-AbCdEfGhIjKlMnOp
```

### Step 1.3: Optional - Create a List (Recommended)

Lists help organize contacts in Brevo.

1. **Navigate to:** Contacts ‚Üí Lists
2. **Click:** "Create a list"
3. **Name:** "ScraperSky Test Contacts" (or similar)
4. **Type:** Standard list
5. **Click:** Create
6. **Copy List ID:** From URL (e.g., `https://app.brevo.com/contact/list/id/123` ‚Üí ID is `123`)

**Note:** List ID is optional - contacts will sync without it.

### Step 1.4: Set Up Custom Attributes (Optional but Recommended)

ScraperSky sends custom attributes. Set them up in Brevo for better organization:

1. **Navigate to:** Contacts ‚Üí Settings ‚Üí Contact attributes
2. **Click:** "Create a new attribute"
3. **Create these attributes:**

| Attribute Name | Type | Category | Required |
|----------------|------|----------|----------|
| `DOMAIN_ID` | Text | Normal | No |
| `PAGE_ID` | Text | Normal | No |
| `EMAIL_TYPE` | Text | Category | No |
| `SOURCE_URL` | Text | Normal | No |
| `HAS_GMAIL` | Text | Category | No |

**Values for EMAIL_TYPE:**
- `CORPORATE`
- `SERVICE`
- `FREE`
- `UNKNOWN`

**Values for HAS_GMAIL:**
- `true`
- `false`

---

## Part 2: Local Environment Setup (10 minutes)

### Step 2.1: Create Local .env File

**File:** `/home/user/scrapersky-backend/.env`

```bash
# Copy .env.example if you don't have .env yet
cp .env.example .env

# Edit .env and add Brevo settings
nano .env
# Or use your preferred editor
```

### Step 2.2: Add Brevo Configuration

**Add/update these lines in `.env`:**

```bash
# --- Brevo CRM Integration (WO-015) ---
BREVO_API_KEY=xkeysib-YOUR_ACTUAL_API_KEY_HERE
BREVO_LIST_ID=123  # Optional - your list ID from Step 1.3 (leave empty if no list)
BREVO_API_BASE_URL=https://api.brevo.com/v3

# Brevo Sync Scheduler Settings
BREVO_SYNC_SCHEDULER_INTERVAL_MINUTES=5
BREVO_SYNC_SCHEDULER_BATCH_SIZE=10
BREVO_SYNC_SCHEDULER_MAX_INSTANCES=1

# Brevo Retry Logic Settings
BREVO_SYNC_MAX_RETRIES=3
BREVO_SYNC_RETRY_DELAY_MINUTES=5
BREVO_SYNC_RETRY_EXPONENTIAL=true
```

**‚ö†Ô∏è Security Note:** Never commit `.env` to git! It's in `.gitignore`.

### Step 2.3: Verify Configuration Loads

```bash
# Test that settings load correctly
python -c "
import sys
sys.path.insert(0, '/home/user/scrapersky-backend')
from src.config.settings import settings
print(f'‚úÖ Brevo API Key configured: {bool(settings.BREVO_API_KEY)}')
print(f'‚úÖ Brevo Base URL: {settings.BREVO_API_BASE_URL}')
print(f'‚úÖ Brevo List ID: {settings.BREVO_LIST_ID or \"Not set (OK)\"}')
print(f'‚úÖ Max Retries: {settings.BREVO_SYNC_MAX_RETRIES}')
"
```

**Expected Output:**
```
‚úÖ Brevo API Key configured: True
‚úÖ Brevo Base URL: https://api.brevo.com/v3
‚úÖ Brevo List ID: 123 (or Not set (OK))
‚úÖ Max Retries: 3
```

---

## Part 3: Prepare Test Contact (10 minutes)

### Step 3.1: Find or Create a Test Contact

**Option A: Use Existing Contact (Quick)**

```sql
-- Find a contact that's NOT already synced to Brevo
SELECT
    id,
    email,
    name,
    phone_number,
    brevo_sync_status,
    brevo_processing_status
FROM contacts
WHERE brevo_sync_status = 'New'
  AND email IS NOT NULL
LIMIT 5;
```

**Copy the contact ID** from the results.

---

**Option B: Create New Test Contact (Recommended)**

```sql
-- Create a test contact with known data
WITH test_domain AS (
  SELECT id FROM domains LIMIT 1
),
test_page AS (
  SELECT id FROM pages LIMIT 1
)
INSERT INTO contacts (
  id,
  domain_id,
  page_id,
  email,
  name,
  phone_number,
  email_type,
  has_gmail,
  source_url,
  contact_curation_status,
  brevo_sync_status,
  brevo_processing_status,
  created_at,
  updated_at
)
VALUES (
  gen_random_uuid(),
  (SELECT id FROM test_domain),
  (SELECT id FROM test_page),
  'brevo-test-' || floor(random() * 10000) || '@scrapersky.test',  -- Unique email
  'Brevo Test Contact',
  '+1-555-0123',
  'CORPORATE',
  false,
  'https://scrapersky.test/contact',
  'New',
  'New',
  NULL,
  NOW(),
  NOW()
)
RETURNING id, email, name;
```

**Copy the returned ID and email** - you'll need them.

---

### Step 3.2: Select Contact for Brevo (Phase 1 Endpoint)

Use the Phase 1 endpoint to mark the contact for Brevo sync:

```bash
# Set your test contact ID
export TEST_CONTACT_ID="your-contact-uuid-here"
export JWT_TOKEN="scraper_sky_2024"  # Or your actual JWT
export API_BASE_URL="http://localhost:8000"  # Or your API URL

# Select contact for Brevo
curl -X PUT "${API_BASE_URL}/api/v3/contacts/crm/select" \
  -H "Authorization: Bearer ${JWT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d "{
    \"contact_ids\": [\"${TEST_CONTACT_ID}\"],
    \"crms\": [\"brevo\"],
    \"action\": \"select\"
  }"
```

**Expected Response:**
```json
{
  "updated_count": 1,
  "queued_count": 1,
  "crms": ["brevo"],
  "action": "select",
  "message": "Selected 1 contacts for 1 CRM(s), 1 queued for processing"
}
```

---

### Step 3.3: Verify Contact is Queued

```sql
-- Verify the dual-status adapter worked
SELECT
    id,
    email,
    brevo_sync_status,      -- Should be 'Selected'
    brevo_processing_status -- Should be 'Queued' (from WO-015.7)
FROM contacts
WHERE id = 'your-contact-uuid-here';
```

**Expected Result:**
```
id: <uuid>
email: brevo-test-1234@scrapersky.test
brevo_sync_status: Selected       ‚úÖ
brevo_processing_status: Queued    ‚úÖ (Critical - confirms WO-015.7 works)
```

---

## Part 4: Manual Sync Test (15 minutes)

### Step 4.1: Create Test Script

**File:** `/home/user/scrapersky-backend/test_brevo_sync_manual.py`

```python
"""
Manual test script for Brevo sync service (WO-015 Phase 2 Step 1)

Usage:
    python test_brevo_sync_manual.py <contact_id>

Example:
    python test_brevo_sync_manual.py 123e4567-e89b-12d3-a456-426614174000
"""

import sys
import asyncio
import logging
from uuid import UUID

# Add project root to path
sys.path.insert(0, '/home/user/scrapersky-backend')

from src.services.crm.brevo_sync_service import BrevoSyncService
from src.db.session import get_db_session

# Configure logging
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
logger = logging.getLogger(__name__)


async def test_sync_single_contact(contact_id: str):
    """
    Test syncing a single contact to Brevo.

    Args:
        contact_id: UUID of contact to sync
    """
    try:
        contact_uuid = UUID(contact_id)
    except ValueError:
        logger.error(f"‚ùå Invalid UUID: {contact_id}")
        return False

    logger.info("=" * 80)
    logger.info(f"üß™ MANUAL BREVO SYNC TEST - Contact: {contact_uuid}")
    logger.info("=" * 80)

    # Initialize service
    service = BrevoSyncService()

    # Check API key configured
    if not service.api_key:
        logger.error("‚ùå BREVO_API_KEY not configured in .env!")
        logger.error("   Please add BREVO_API_KEY to your .env file")
        return False

    logger.info(f"‚úÖ Brevo API Key: {'*' * 10}{service.api_key[-4:]}")
    logger.info(f"‚úÖ Brevo Base URL: {service.base_url}")
    if service.list_id:
        logger.info(f"‚úÖ Brevo List ID: {service.list_id}")
    else:
        logger.info("‚ÑπÔ∏è  Brevo List ID: Not set (contacts will sync without list)")

    # Get database session
    async for session in get_db_session():
        try:
            logger.info("\n" + "-" * 80)
            logger.info("üöÄ Starting sync process...")
            logger.info("-" * 80 + "\n")

            # Call the service (this is what the scheduler will call)
            await service.process_single_contact(contact_uuid, session)

            logger.info("\n" + "-" * 80)
            logger.info("‚úÖ SYNC COMPLETED SUCCESSFULLY!")
            logger.info("-" * 80)
            logger.info("\nNext steps:")
            logger.info("1. Check database for updated status (see below)")
            logger.info("2. Check Brevo dashboard for new contact")
            logger.info("3. Run database verification query\n")

            return True

        except Exception as e:
            logger.error("\n" + "-" * 80)
            logger.error("‚ùå SYNC FAILED!")
            logger.error("-" * 80)
            logger.exception(f"Error: {e}")
            logger.error("\nTroubleshooting:")
            logger.error("1. Check BREVO_API_KEY is valid")
            logger.error("2. Check contact exists in database")
            logger.error("3. Check contact has valid email address")
            logger.error("4. Check network connectivity to Brevo API\n")
            return False


def print_verification_queries(contact_id: str):
    """Print SQL queries for manual verification"""
    print("\n" + "=" * 80)
    print("DATABASE VERIFICATION QUERIES")
    print("=" * 80 + "\n")

    print("-- Query 1: Check contact status")
    print(f"""
SELECT
    id,
    email,
    name,
    brevo_sync_status,
    brevo_processing_status,
    brevo_processing_error,
    brevo_contact_id,
    retry_count,
    next_retry_at
FROM contacts
WHERE id = '{contact_id}';
""")

    print("\n-- Expected result after successful sync:")
    print("""
brevo_sync_status:       'Complete'  ‚úÖ
brevo_processing_status: 'Complete'  ‚úÖ
brevo_processing_error:  NULL        ‚úÖ
brevo_contact_id:        '<email>'   ‚úÖ
retry_count:             0           ‚úÖ
next_retry_at:           NULL        ‚úÖ
""")

    print("\n-- Query 2: Check all Brevo-synced contacts")
    print("""
SELECT
    COUNT(*) as total_complete,
    COUNT(CASE WHEN brevo_processing_status = 'Error' THEN 1 END) as total_errors
FROM contacts
WHERE brevo_sync_status != 'New';
""")


if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python test_brevo_sync_manual.py <contact_id>")
        print("\nExample:")
        print("  python test_brevo_sync_manual.py 123e4567-e89b-12d3-a456-426614174000")
        sys.exit(1)

    contact_id = sys.argv[1]

    # Run test
    success = asyncio.run(test_sync_single_contact(contact_id))

    # Print verification queries
    print_verification_queries(contact_id)

    # Exit code
    sys.exit(0 if success else 1)
```

---

### Step 4.2: Run Test Script

```bash
# Make sure you're in the backend directory
cd /home/user/scrapersky-backend

# Run the test with your contact ID
python test_brevo_sync_manual.py <your-test-contact-uuid>
```

**Example:**
```bash
python test_brevo_sync_manual.py 123e4567-e89b-12d3-a456-426614174000
```

---

### Step 4.3: Expected Output (Success Case)

```
================================================================================
üß™ MANUAL BREVO SYNC TEST - Contact: 123e4567-e89b-12d3-a456-426614174000
================================================================================
‚úÖ Brevo API Key: **********f3g4
‚úÖ Brevo Base URL: https://api.brevo.com/v3
‚úÖ Brevo List ID: 123

--------------------------------------------------------------------------------
üöÄ Starting sync process...
--------------------------------------------------------------------------------

üöÄ Starting Brevo sync for contact 123e4567-e89b-12d3-a456-426614174000
üìß Processing Brevo sync for brevo-test-1234@scrapersky.test
üì§ Brevo API payload: {'email': 'brevo-test-1234@scrapersky.test', 'attributes': {...}, 'updateEnabled': True}
üì• Brevo API response: 201 - Contact created
‚úÖ Successfully synced brevo-test-1234@scrapersky.test to Brevo

--------------------------------------------------------------------------------
‚úÖ SYNC COMPLETED SUCCESSFULLY!
--------------------------------------------------------------------------------

Next steps:
1. Check database for updated status (see below)
2. Check Brevo dashboard for new contact
3. Run database verification query
```

---

## Part 5: Verification (10 minutes)

### Step 5.1: Database Verification

Run the SQL query printed by the test script:

```sql
SELECT
    id,
    email,
    name,
    brevo_sync_status,
    brevo_processing_status,
    brevo_processing_error,
    brevo_contact_id,
    retry_count,
    next_retry_at,
    updated_at
FROM contacts
WHERE id = '<your-test-contact-uuid>';
```

**Expected Result (Success):**
```
id:                      <uuid>
email:                   brevo-test-1234@scrapersky.test
name:                    Brevo Test Contact
brevo_sync_status:       Complete        ‚úÖ
brevo_processing_status: Complete        ‚úÖ
brevo_processing_error:  NULL            ‚úÖ
brevo_contact_id:        brevo-test-1234@scrapersky.test  ‚úÖ
retry_count:             0               ‚úÖ
next_retry_at:           NULL            ‚úÖ
updated_at:              <recent timestamp>
```

---

### Step 5.2: Brevo Dashboard Verification

1. **Log in** to Brevo dashboard: https://app.brevo.com/
2. **Navigate to:** Contacts ‚Üí Contacts
3. **Search for:** Your test contact email
4. **Click on contact** to view details

**Verify:**
- ‚úÖ Contact exists
- ‚úÖ Email address correct
- ‚úÖ Name populated (FIRSTNAME, LASTNAME)
- ‚úÖ Phone number populated (SMS attribute)
- ‚úÖ Custom attributes populated:
  - DOMAIN_ID
  - PAGE_ID
  - EMAIL_TYPE
  - SOURCE_URL
  - HAS_GMAIL
- ‚úÖ Added to list (if you specified BREVO_LIST_ID)

**Screenshot locations to check:**
1. Contact detail page ‚Üí "Contact information" tab
2. Contact detail page ‚Üí "Attributes" section
3. Contacts ‚Üí Lists ‚Üí Your list ‚Üí Check contact appears

---

## Part 6: Error Testing (Optional but Recommended)

### Test 6.1: Invalid API Key

**Purpose:** Verify error handling for authentication failures

```bash
# Temporarily break API key in .env
sed -i.bak 's/BREVO_API_KEY=xkeysib-/BREVO_API_KEY=invalid-key-/' .env

# Run test (should fail gracefully)
python test_brevo_sync_manual.py <contact-id>

# Restore API key
mv .env.bak .env
```

**Expected Output:**
```
‚ùå Brevo API response: 401 - Unauthorized
‚ùå SYNC FAILED!
```

**Database Check:**
```sql
SELECT brevo_processing_status, brevo_processing_error
FROM contacts WHERE id = '<contact-id>';

-- Expected:
-- brevo_processing_status: Error
-- brevo_processing_error: Contains "401" or "Unauthorized"
```

---

### Test 6.2: Missing Email

**Purpose:** Verify validation works

```sql
-- Create contact without email
INSERT INTO contacts (..., email, ...)
VALUES (..., NULL, ...)
RETURNING id;

-- Try to sync (should fail with validation error)
```

**Expected:** Service raises ValueError("Contact has no email address")

---

### Test 6.3: Duplicate Contact (Idempotency)

**Purpose:** Verify updateEnabled=true works

```bash
# Sync same contact twice
python test_brevo_sync_manual.py <same-contact-id>
python test_brevo_sync_manual.py <same-contact-id>  # Second time
```

**Expected:**
- First call: `201 Created`
- Second call: `204 No Content` (updated existing)
- Both succeed ‚úÖ
- Database shows `brevo_processing_status = Complete` both times

---

## Part 7: Cleanup (5 minutes)

### Step 7.1: Delete Test Contact from Database

```sql
-- Delete test contact
DELETE FROM contacts
WHERE email LIKE 'brevo-test-%@scrapersky.test';

-- Verify deletion
SELECT COUNT(*) FROM contacts
WHERE email LIKE 'brevo-test-%@scrapersky.test';
-- Expected: 0
```

### Step 7.2: Delete Test Contact from Brevo (Optional)

1. **Log in** to Brevo dashboard
2. **Navigate to:** Contacts ‚Üí Contacts
3. **Search for:** `brevo-test-`
4. **Select contact(s)**
5. **Click:** Delete (trash icon)
6. **Confirm deletion**

---

## Part 8: Test Results Report Template

```markdown
# Brevo Sync Service Test Results (WO-015 Phase 2 Step 1)

**Date:** YYYY-MM-DD
**Tester:** [Your Name]
**Environment:** Local / Staging / Production
**Brevo Account:** [email@example.com]

## Test Execution Summary

| Test | Status | Notes |
|------|--------|-------|
| Configuration Setup | ‚úÖ PASS / ‚ùå FAIL | |
| Test Contact Created | ‚úÖ PASS / ‚ùå FAIL | |
| Contact Selected (Phase 1) | ‚úÖ PASS / ‚ùå FAIL | |
| Manual Sync Executed | ‚úÖ PASS / ‚ùå FAIL | |
| Database Verification | ‚úÖ PASS / ‚ùå FAIL | |
| Brevo Dashboard Verification | ‚úÖ PASS / ‚ùå FAIL | |
| Error Handling (Invalid Key) | ‚úÖ PASS / ‚ùå FAIL / ‚è≠Ô∏è SKIP | |
| Idempotency Test | ‚úÖ PASS / ‚ùå FAIL / ‚è≠Ô∏è SKIP | |

**Overall Result:** ‚úÖ PASS / ‚ùå FAIL

## Issues Found

**Issue 1:** [Title]
- **Severity:** üî¥ Critical / üü° Medium / üü¢ Low
- **Description:** [Details]
- **Expected:** [What should happen]
- **Actual:** [What actually happened]
- **Logs:** [Relevant error messages]

## Database State After Testing

```sql
-- Final contact state
SELECT
    brevo_sync_status,
    brevo_processing_status,
    brevo_contact_id,
    retry_count
FROM contacts
WHERE id = '<test-contact-id>';
```

**Result:**
- brevo_sync_status: [value]
- brevo_processing_status: [value]
- brevo_contact_id: [value]
- retry_count: [value]

## Brevo Dashboard Screenshot

[Attach screenshot of contact in Brevo dashboard showing all attributes]

## Recommendations

1. [Recommendation 1]
2. [Recommendation 2]

## Ready for Step 2 (Scheduler)?

**YES / NO**

**Reason:** [Brief explanation]

**Blocker (if NO):** [What needs to be fixed first]
```

---

## Troubleshooting Guide

### Issue: "BREVO_API_KEY not configured"

**Symptom:**
```
‚ö†Ô∏è BREVO_API_KEY not configured - Brevo sync will fail
‚ùå BREVO_API_KEY not configured in .env!
```

**Fix:**
1. Check `.env` file exists: `ls -la /home/user/scrapersky-backend/.env`
2. Check `BREVO_API_KEY` line present: `grep BREVO_API_KEY .env`
3. Check no typos: `BREVO_API_KEY=xkeysib-...` (no spaces around `=`)
4. Check file loaded: `python -c "from src.config.settings import settings; print(settings.BREVO_API_KEY)"`

---

### Issue: "401 Unauthorized"

**Symptom:**
```
httpx.HTTPError: 401 Unauthorized
```

**Fix:**
1. Verify API key is correct (copy from Brevo dashboard again)
2. Check no extra spaces/newlines in `.env`
3. Test API key directly:
   ```bash
   curl -X GET "https://api.brevo.com/v3/account" \
     -H "api-key: YOUR_API_KEY"
   ```
4. Generate new API key if needed

---

### Issue: "Contact not found"

**Symptom:**
```
‚ùå Contact <uuid> not found - skipping
```

**Fix:**
1. Verify contact ID is correct
2. Check contact exists:
   ```sql
   SELECT id, email FROM contacts WHERE id = '<uuid>';
   ```
3. Use correct database (check `DATABASE_URL` in `.env`)

---

### Issue: "No module named 'httpx'"

**Symptom:**
```
ModuleNotFoundError: No module named 'httpx'
```

**Fix:**
```bash
# Install dependencies
pip install httpx

# Or install all requirements
pip install -r requirements.txt
```

---

### Issue: Contact synced but not visible in Brevo dashboard

**Symptom:**
- Database shows `brevo_sync_status = Complete`
- API returned 201/204
- But contact not in Brevo dashboard

**Fix:**
1. Wait 30 seconds (Brevo dashboard may cache)
2. Refresh Brevo dashboard (Ctrl+F5 / Cmd+Shift+R)
3. Check "All contacts" not "My lists"
4. Search by exact email address
5. Check spam folder (if email was sent)

---

### Issue: "httpx.TimeoutException"

**Symptom:**
```
httpx.TimeoutException: Request timeout after 30.0 seconds
```

**Fix:**
1. Check internet connection
2. Check firewall/proxy settings
3. Try pinging Brevo: `ping api.brevo.com`
4. Check Brevo status: https://status.brevo.com/
5. Increase timeout in code (change `timeout=30.0` to `timeout=60.0`)

---

## Success Criteria

**Step 1 (Core Service) is VERIFIED when:**

1. ‚úÖ Brevo API key configured and working
2. ‚úÖ Test contact syncs successfully
3. ‚úÖ Database shows `brevo_processing_status = Complete`
4. ‚úÖ Database shows `brevo_contact_id = <email>`
5. ‚úÖ Contact appears in Brevo dashboard with all attributes
6. ‚úÖ Error handling works (invalid key test)
7. ‚úÖ Idempotency works (duplicate sync test)

**If all pass:** ‚úÖ Ready for Step 2 (Scheduler implementation)

**If any fail:** ‚ùå Fix issues before proceeding to Step 2

---

## Next Steps After Verification

Once Step 1 is verified:

1. **Document results** using test report template
2. **Share test results** with team
3. **Proceed to Step 2:** Implement background scheduler
4. **File:** `src/services/crm/brevo_sync_scheduler.py`
5. **Follow:** WO-015.8_PHASE_2_BREVO_SYNC_IMPLEMENTATION_PLAN.md (Step 2 section)

---

**Estimated Time:** 45-60 minutes
**Environment:** Local development
**Next Document:** WO-015.10 (Step 2 - Scheduler Implementation)
