Work Order: Identify & Archive Unused Code in ScraperSky Backend
Date: 2024â€‘07â€‘27
Version: 2.1
Author: Your Name

0. Alreadyâ€‘Completed Critical Hygiene
   Phase 1: Critical File Removal

Deleted .env.bak

Phase 2: Verification & Archiving of Legacy Scripts

bin/: emptied and removed; run_supavisor_check.sh â†’ \_Archive_4.13.25/

run_tests.sh, setup.py, CURSOR.md â†’ \_Archive_4.13.25/

Phase 3: Git & Env Hygiene

Archived any _.backup_, src/services/_.backup_, unfinished scripts to \_Archive_4.13.25/

Updated .gitignore to exclude backups, archives, workspace files

Regenerated requirements.txt from current venv

âœ¨ 1. Preâ€‘Flight & Safety
Branch & Backup

bash
Copy
Edit
git checkout main && git pull origin main
git checkout -b feature/code-cleanup-$(date +%Y%m%d)
git tag pre-cleanup-$(date +%Y%m%d)
mkdir -p reports
Archive Directory

Create src/archive/YYYY-MM-DD/ for later moves.

âš™ï¸ 2. Entryâ€‘Point & Automated Import Tracing
Trace Script

bash
Copy
Edit
python tools/trace_imports.py \
 --entry src/main.py \
 --config reports/cleanup_config.yaml \
 --out-used reports/used_files.json \
 --out-unused reports/unused_candidates.json
Reports Generated

reports/used_files.json

reports/unused_candidates.json

ğŸ—‚ï¸ 3. Excludeâ€‘List & Configuration
yaml
Copy
Edit

# reports/cleanup_config.yaml

exclude_paths:

- src/scripts/\*\*
- src/tests/\*\*
- src/migrations/\*\*
- src/cli_tools/\*\*
- src/utils/dynamic_importer.py
  ğŸ” 4. Coverage & Runtime Validation (Optional)
  Coverage Report

bash
Copy
Edit
pytest --cov=src --cov-report=term --cov-report=xml
UI Smoke Test (if available)

ğŸ“‹ 5. Candidate Review & Archiving
PR with Reports

Commit the three reports and the updated config.

PR must list all unused_candidates.json files grouped by directory.

Human Approval

Archive Moves

bash
Copy
Edit
mkdir -p src/archive/$(date +%Y-%m-%d)
git mv <confirmed-path> src/archive/$(date +%Y-%m-%d)/
ğŸ§¹ 6. Withinâ€‘File Deadâ€‘Code Sweep
Run Vulture

bash
Copy
Edit
vulture src/ --min-confidence=80 --exclude src/archive
Save Report
reports/vulture*dead_code*$(date +%Y%m%d).txt

Followâ€‘up PRs

ğŸ“ˆ 7. CI Integration & Guardrails
.github/workflows/cleanup-check.yml to run trace and fail if new orphans appear.

Optional Preâ€‘commit Hook to block unreviewed deletions.

ğŸ—“ï¸ 8. Suggested Timeline
DayÂ 1: StepsÂ 1â€“2 â†’ initial PR

DayÂ 2â€“3: Review & archive â†’ merge

DayÂ 4: Run Vulture â†’ schedule followâ€‘ups

Ongoing: Monitor via CI check

With PhasesÂ 1â€“3 already out of the way, this 0â€“8 plan will drive a safe, fully audited cleanup of all unused code. Let me know if youâ€™d like any further tweaks!

You said:
You kind of took the ball and ran with something different. You were giving feedback to my local AI that was incorporating your feedback, but I'm not sure what you just gave me there. How do I take what you gave me and give it to my AI to incorporate incorporate that into the work order we're doing.

ChatGPT said:
Try feeding your AI assistant the following prompt. It tells it exactly how to merge the â€œalreadyâ€‘completedâ€ cleanup steps into the top of your work order and reâ€‘structure the sections without destructive edits:

Prompt for the AI:

Please update our â€œWork Order: Identify & Archive Unused Code in ScraperSky Backendâ€ document by folding in the previously completed PhasesÂ 1â€“3 at the very top as a new â€œ0. Alreadyâ€‘Completed Critical Hygieneâ€ section.

Prepend a new section called â€œ0. Alreadyâ€‘Completed Critical Hygieneâ€ that lists:

Deleted .env.bak

Archived bin/, run_tests.sh, setup.py, CURSOR.md into \_Archive_4.13.25/

Archived all _.backup_ and updated .gitignore

Regenerated requirements.txt

Renumber the remaining sections from 1 â†’ 8 accordingly.

Ensure each step retains its original language and level of detailâ€”no destructive edits.

At the end, add a short â€œNext Stepsâ€ bullet reminding us to open PR for review.

Structure and tone must be concise, clear, and nonâ€‘destructive. Output the full revised workâ€‘order in markdown.

Just paste that into your AIâ€™s prompt box and it should integrate the completed cleanup phases at the top, reâ€‘number everything, and leave the rest intact.

You said:
Are you being thorough? I kind of feel like you're all over the place. I gave you three different documents that I haven't shared with it yet because I've kept its context pure I've shared them with you. You shared this big cool outline with me, but I'm trying to figure out how to give that to the other AI to incorporate the workflow and I asked you but now you've give me this prompt that seems really puny

ChatGPT said:
Hereâ€™s a more comprehensive prompt you can drop into your AI to merge all three documents into one master work order:

Prompt for the AI:

You have three source documents:

A. Work Order: Identify & Archive Unused Code in ScraperSky Backend (v2.0)
B. Cleanup Work Order (PhasesÂ 1â€“3, â€œalready completedâ€ hygiene steps)
C. Ruff Cleanup Micro Plan & Postâ€‘MVP Page Rename Tasks

Please produce a single consolidated â€œCleanup & Archive Work Orderâ€ in Markdown, with these requirements:

SectionÂ 0: Alreadyâ€Completed Cleanup

Summarize PhaseÂ 1 (Delete .env.bak), PhaseÂ 2 (archived bin/, run_tests.sh, setup.py, CURSOR.md to \_Archive_4.13.25/), and PhaseÂ 3 (git ignore updates, archived _.backup_, regenerating requirements.txt).

Keep the exact file names and brief reasons.

SectionÂ 1: Identify & Archive Unused Code

Fold in the importâ€tracing plan from documentÂ A, now numbered SectionÂ 1.

Retain all steps, subâ€‘steps, notes, limitations, and the YAML example for exclusions.

SectionÂ 2: Withinâ€‘File Deadâ€Code Sweep

Pull in the Ruff Cleanup Micro Plan from documentÂ C exactly, renumber it SectionÂ 2, preserving its â€œSTATUS,â€ goals, and stepâ€‘byâ€‘step actions.

SectionÂ 3: Postâ€‘MVP Page Rename Tasks

Pull in the Postâ€‘MVP Page Rename Tasks from documentÂ C, renumbered SectionÂ 3, keeping its prioritized tasks and statuses.

Renumber all subsequent sections accordingly.

Next Steps (at the very end):

Remind to open a review PR with the reports and proposed git mvs.

Suggest scheduling the Ruff and Vulture followâ€‘ups once the archive PR is merged.

Style & Tone:

Use clear, concise headings and bullet lists.

Do not delete or rewrite any original step languageâ€”only renumber and reorganize.

Preserve code blocks, YAML, and shell examples verbatim.

Keep it fully nonâ€‘destructive and ready for a human review PR.

Output the entire merged work order in Markdown.
