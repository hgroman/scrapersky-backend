<div class="card">
    <h2>Database Schema</h2>
    <div class="relationship-diagram" id="db-diagram">
        <!-- Database diagram will be loaded here -->
    </div>

    <!-- Database Table Viewer -->
    <div class="card mt-4">
        <h3>Database Table Viewer</h3>
        <p>Select a table to view its structure and data:</p>

        <div class="row">
            <div class="col-md-4">
                <div class="table-list-container">
                    <h4>Available Tables</h4>
                    <div id="table-list">
                        <!-- Tables will be loaded here -->
                        <div class="text-center p-3">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p class="mt-2">Loading tables...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-8">
                <div id="table-details-container">
                    <div id="table-details">
                        <p class="text-center">Select a table to view its details</p>
                    </div>

                    <div class="mt-4">
                        <h5>Columns</h5>
                        <div class="table-responsive" id="table-columns">
                            <!-- Columns will be loaded here -->
                        </div>
                    </div>

                    <div class="mt-4">
                        <h5>Sample Data</h5>
                        <div class="table-responsive" id="table-sample-data">
                            <!-- Sample data will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <h3>Key Tables</h3>
    <table>
        <thead>
            <tr>
                <th>Table Name</th>
                <th>Description</th>
                <th>Key Fields</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>profiles</td>
                <td>User profiles with authentication details</td>
                <td>id, tenant_id, name, email</td>
            </tr>
            <tr>
                <td>sitemap_files</td>
                <td>Discovered sitemap files</td>
                <td>id, domain, url, tenant_id, discovery_method</td>
            </tr>
            <tr>
                <td>sitemap_urls</td>
                <td>URLs extracted from sitemaps</td>
                <td>id, sitemap_id, url, priority, changefreq</td>
            </tr>
            <tr>
                <td>domains</td>
                <td>Tracked domains with metadata</td>
                <td>id, domain, tenant_id, created_at</td>
            </tr>
        </tbody>
    </table>
</div>

<div class="card">
    <h2>Common SQL Queries</h2>
    <div class="code-block">
        <pre><code class="language-sql">
-- Get all sitemaps for a domain
SELECT * FROM sitemap_files
WHERE domain = 'example.com' AND tenant_id = '550e8400-e29b-41d4-a716-446655440000';

-- Get all URLs from a sitemap
SELECT su.* FROM sitemap_urls su
JOIN sitemap_files sf ON su.sitemap_id = sf.id
WHERE sf.domain = 'example.com' AND sf.tenant_id = '550e8400-e29b-41d4-a716-446655440000';

-- Get user profile
SELECT * FROM profiles WHERE id = '550e8400-e29b-41d4-a716-446655440000';
        </code></pre>
    </div>
</div>